{"version":3,"file":"azureResource/services/subscriptionService.js","sourceRoot":"../src","sources":["azureResource/services/subscriptionService.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,YAAY,CAAC;;;;;;;;;;AAIb,2DAAwD;AAKxD;IACc,gBAAgB,CAAC,OAAgB,EAAE,UAAoC;;YACnF,MAAM,aAAa,GAA8C,EAAE,CAAC;YAEpE,MAAM,SAAS,GAAG,IAAI,uCAAkB,CAAC,kBAAkB,CAAC,UAAU,CAAC,CAAC;YACxE,MAAM,IAAI,GAAG,MAAM,SAAS,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;YAClD,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,aAAa,CAAC,IAAI,CAAC;gBACxC,EAAE,EAAE,GAAG,CAAC,cAAc;gBACtB,IAAI,EAAE,GAAG,CAAC,WAAW;aACrB,CAAC,CAAC,CAAC;YAEJ,OAAO,aAAa,CAAC;QACtB,CAAC;KAAA;CACD;AAbD,4EAaC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\n\nimport { Account } from 'sqlops';\nimport { ServiceClientCredentials } from 'ms-rest';\nimport { SubscriptionClient } from 'azure-arm-resource';\n\nimport { azureResource } from '../azure-resource';\nimport { IAzureResourceSubscriptionService } from '../interfaces';\n\nexport class AzureResourceSubscriptionService implements IAzureResourceSubscriptionService {\n\tpublic async getSubscriptions(account: Account, credential: ServiceClientCredentials): Promise<azureResource.AzureResourceSubscription[]> {\n\t\tconst subscriptions: azureResource.AzureResourceSubscription[] = [];\n\n\t\tconst subClient = new SubscriptionClient.SubscriptionClient(credential);\n\t\tconst subs = await subClient.subscriptions.list();\n\t\tsubs.forEach((sub) => subscriptions.push({\n\t\t\tid: sub.subscriptionId,\n\t\t\tname: sub.displayName\n\t\t}));\n\n\t\treturn subscriptions;\n\t}\n}\n"]}