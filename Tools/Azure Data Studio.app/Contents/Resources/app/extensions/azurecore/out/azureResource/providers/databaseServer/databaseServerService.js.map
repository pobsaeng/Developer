{"version":3,"file":"azureResource/providers/databaseServer/databaseServerService.js","sourceRoot":"../src","sources":["azureResource/providers/databaseServer/databaseServerService.ts"],"names":[],"mappings":"AAAA;;;gGAGgG;AAEhG,YAAY,CAAC;;;;;;;;;;AAGb,iDAAoD;AAMpD;IACc,kBAAkB,CAAC,YAAqD,EAAE,UAAoC;;YAC1H,MAAM,eAAe,GAAkC,EAAE,CAAC;YAE1D,MAAM,mBAAmB,GAAG,IAAI,mCAAmB,CAAC,UAAU,EAAE,YAAY,CAAC,EAAE,CAAC,CAAC;YACjF,MAAM,IAAI,GAAG,MAAM,mBAAmB,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;YAEtD,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC;gBAC1C,IAAI,EAAE,GAAG,CAAC,IAAI;gBACb,QAAQ,EAAE,GAAG,CAAC,wBAAwB;gBACtC,SAAS,EAAE,GAAG,CAAC,kBAAkB;gBACjC,mBAAmB,EAAE,QAAQ;aAC9B,CAAC,CAAC,CAAC;YAEJ,OAAO,eAAe,CAAC;QACxB,CAAC;KAAA;CACD;AAhBD,gFAgBC","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n'use strict';\n\nimport { ServiceClientCredentials } from 'ms-rest';\nimport { SqlManagementClient } from 'azure-arm-sql';\n\nimport { azureResource } from '../../azure-resource';\nimport { IAzureResourceDatabaseServerService } from './interfaces';\nimport { AzureResourceDatabaseServer } from './models';\n\nexport class AzureResourceDatabaseServerService implements IAzureResourceDatabaseServerService {\n\tpublic async getDatabaseServers(subscription: azureResource.AzureResourceSubscription, credential: ServiceClientCredentials): Promise<AzureResourceDatabaseServer[]> {\n\t\tconst databaseServers: AzureResourceDatabaseServer[] = [];\n\n\t\tconst sqlManagementClient = new SqlManagementClient(credential, subscription.id);\n\t\tconst svrs = await sqlManagementClient.servers.list();\n\n\t\tsvrs.forEach((svr) => databaseServers.push({\n\t\t\tname: svr.name,\n\t\t\t fullName: svr.fullyQualifiedDomainName,\n\t\t\t loginName: svr.administratorLogin,\n\t\t\t defaultDatabaseName: 'master'\n\t\t}));\n\n\t\treturn databaseServers;\n\t}\n}\n"]}