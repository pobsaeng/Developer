{"version":3,"file":"prompts/checkbox.js","sourceRoot":"../src","sources":["prompts/checkbox.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;;AAEb,2EAA2E;AAC3E,2EAA2E;AAE3E,mCAAgC;AAChC,qCAA8B;AAC9B,wDAAiD;AAEjD,MAAM,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AAEnC,oBAAoC,SAAQ,gBAAM;IAEjD,YAAY,QAAa,EAAE,cAAwB;QAClD,KAAK,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;IACjC,CAAC;IAEM,MAAM;QACZ,IAAI,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,MAAM,EAAE,EAAE;YAC9D,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC;YACvC,MAAM,CAAC,GAAG,MAAM,CAAC,OAAO,KAAK,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,IAAI,UAAU,EAAE,CAAC,GAAG,MAAM,CAAC;YACjG,OAAO,MAAM,CAAC;QACf,CAAC,EAAE,EAAE,CAAC,CAAC;QAEP,IAAI,OAAO,GAAG,IAAI,CAAC,uBAAuB,CAAC;QAC3C,OAAO,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;QAE7C,IAAI,gBAAgB,GAAG,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC5C,gBAAgB,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;QAEpC,OAAO,eAAM,CAAC,aAAa,CAAC,gBAAgB,EAAE,OAAO,CAAC;aACpD,IAAI,CAAC,MAAM,CAAC,EAAE;YACd,IAAI,MAAM,KAAK,SAAS,EAAE;gBACzB,MAAM,IAAI,yBAAe,EAAE,CAAC;aAC5B;YAED,IAAI,MAAM,KAAK,OAAO,CAAC,IAAI,EAAE;gBAC5B,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC;gBAEnD,OAAO,IAAI,CAAC,MAAM,EAAE,CAAC;aACrB;YAED,OAAO,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;gBACxD,IAAI,MAAM,CAAC,OAAO,KAAK,IAAI,EAAE;oBAC5B,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;iBAC3B;gBAED,OAAO,OAAO,CAAC;YAChB,CAAC,EAAE,EAAE,CAAC,CAAC;QACR,CAAC,CAAC,CAAC;IACL,CAAC;CACD;AAxCD,iCAwCC","sourcesContent":["'use strict';\n\n// This code is originally from https://github.com/DonJayamanne/bowerVSCode\n// License: https://github.com/DonJayamanne/bowerVSCode/blob/master/LICENSE\n\nimport { window } from 'vscode';\nimport Prompt from './prompt';\nimport EscapeException from '../escapeException';\n\nconst figures = require('figures');\n\nexport default class CheckboxPrompt extends Prompt {\n\n\tconstructor(question: any, ignoreFocusOut?: boolean) {\n\t\tsuper(question, ignoreFocusOut);\n\t}\n\n\tpublic render(): any {\n\t\tlet choices = this._question.choices.reduce((result, choice) => {\n\t\t\tlet choiceName = choice.name || choice;\n\t\t\tresult[`${choice.checked === true ? figures.radioOn : figures.radioOff} ${choiceName}`] = choice;\n\t\t\treturn result;\n\t\t}, {});\n\n\t\tlet options = this.defaultQuickPickOptions;\n\t\toptions.placeHolder = this._question.message;\n\n\t\tlet quickPickOptions = Object.keys(choices);\n\t\tquickPickOptions.push(figures.tick);\n\n\t\treturn window.showQuickPick(quickPickOptions, options)\n\t\t\t.then(result => {\n\t\t\t\tif (result === undefined) {\n\t\t\t\t\tthrow new EscapeException();\n\t\t\t\t}\n\n\t\t\t\tif (result !== figures.tick) {\n\t\t\t\t\tchoices[result].checked = !choices[result].checked;\n\n\t\t\t\t\treturn this.render();\n\t\t\t\t}\n\n\t\t\t\treturn this._question.choices.reduce((result2, choice) => {\n\t\t\t\t\tif (choice.checked === true) {\n\t\t\t\t\t\tresult2.push(choice.value);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn result2;\n\t\t\t\t}, []);\n\t\t\t});\n\t}\n}\n"]}